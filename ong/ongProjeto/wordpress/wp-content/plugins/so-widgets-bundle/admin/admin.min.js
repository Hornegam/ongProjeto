jQuery(function(a){a(".so-widget-toggle-active button").click(function(){var i=a(this),s=i.data("status"),t=i.closest(".so-widget");s?t.addClass("so-widget-is-active").removeClass("so-widget-is-inactive"):t.removeClass("so-widget-is-active").addClass("so-widget-is-inactive"),a.post(soWidgetsAdmin.toggleUrl,{widget:t.data("id"),active:s},function(i){})}),a(".so-widget-banner").each(function(){var i=a(this),s=i.find("img");if(s.length)128<s.width()&&s.css("margin-left",-(s.width()-128)/2);else{var t=Trianglify({width:128,height:128,variance:1,cell_size:32,seed:i.data("seed")});i.append(t.svg())}});function i(){var s=a(this).val().toLowerCase();""===s?a(".so-widget-wrap").show():a(".so-widget").each(function(){var i=a(this);-1<i.find("h3").html().toLowerCase().indexOf(s)?i.parent().show():i.parent().hide()})}a("#sow-widget-search input").on({keyup:i,search:i}),a(window).resize(function(){var i=a(".so-widget-text").css("height","auto"),s=0;i.each(function(){s=Math.max(s,a(this).height())}),i.each(function(){a(this).css("height",s)})}).resize(),a("#sow-widgets-page .page-nav a").click(function(i){i.preventDefault();var s=a(this),t=s.attr("href"),e=s.closest("li");switch(a("#sow-widgets-page .page-nav li").not(e).removeClass("active"),e.addClass("active"),t){case"#all":a(".so-widget-wrap").show();break;case"#enabled":a(".so-widget-wrap").hide(),a(".so-widget-wrap .so-widget-is-active").each(function(){a(this).closest(".so-widget-wrap").show()}),a(".so-widget-wrap .so-widget-is-inactive").each(function(){a(this).closest(".so-widget-wrap").hide()});break;case"#disabled":a(".so-widget-wrap .so-widget-is-active").each(function(){a(this).closest(".so-widget-wrap").hide()}),a(".so-widget-wrap .so-widget-is-inactive").each(function(){a(this).closest(".so-widget-wrap").show()})}a(window).resize()}),a("#widgets-list").addClass("so-animated");var t=a("#sow-settings-dialog");if(a("#widgets-list .so-widget-settings").click(function(i){var s=a(this);i.preventDefault(),t.find(".so-content").empty().addClass("so-loading").load(s.data("form-url"),function(){a(this).removeClass("so-loading")}),t.show()}),t.find(".so-close").click(function(i){i.preventDefault(),t.hide()}),t.find(".so-save").click(function(i){i.preventDefault();var s=a(this);s.prop("disabled",!0),a("#widgets-list .so-widget-settings").prop("disabled",!0),t.find("form").submit(function(){s.prop("disabled",!1),t.hide()}).submit()}),a("#so-widget-settings-save").load(function(){a("#widgets-list .so-widget-settings").prop("disabled",!1)}),window.location.hash&&"#settings-"===window.location.hash.substring(0,10)){var s=window.location.hash.substring(10);a('div[data-id="'+s+'"] button.so-widget-settings').click()}});