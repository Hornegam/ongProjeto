!function(r){r(document).on("sowsetupformfield",".siteorigin-widget-field-type-date-range",function(e){var s=r(this),f=s.find('input[type="hidden"][class="siteorigin-widget-input"]');if(!s.data("initialized")){if(0<s.find('[class*="sowb-specific-date"]').length){var t=function(i,e){function a(e,t){if(isNaN(e.valueOf()))return"";var i=e.getDate();i=i<10?"0"+i.toString():i.toString();var a=e.getMonth()+1;return a=a<10?"0"+a.toString():a.toString(),e.getFullYear()+"-"+a+"-"+i}function n(e,t){var i=e.split("-"),a=parseInt(i[2]),n=parseInt(i[1])-1,r=parseInt(i[0]);return new Date(r,n,a)}function r(e){var t=""===f.val()?{}:JSON.parse(f.val());t[i]=a(e),l.val(t[i]),f.val(JSON.stringify(t)),f.trigger("change",{silent:!0})}var l=s.find("."+i+"-picker"),t=new Pikaday({field:l[0],blurFieldOnSelect:!1,toString:a,parse:n,onSelect:r});return l.change(function(e){var t=n(l.val());return r(t),e.preventDefault(),!1}),e&&l.val(e),t}.bind(this),i=""===f.val()?{after:"",before:""}:JSON.parse(f.val()),a=t("after",i.after),n=t("before",i.before);f.change(function(e,t){if(!t||!t.silent){var i=""===f.val()?{after:"",before:""}:JSON.parse(f.val());a.setDate(i.after),n.setDate(i.before)}})}else 0<s.find(".sowb-relative-date").length&&s.find(".sowb-relative-date").each(function(){var a=r(this).data("name");r(this).change(function(){var e=""===f.val()?{}:JSON.parse(f.val());e.hasOwnProperty(a)||(e[a]={}),e[a].value=r(this).find("> input").val(),e[a].unit=r(this).find("> select").val(),f.val(JSON.stringify(e)),f.trigger("change",{silent:!0})}.bind(this)),f.change(function(e,t){if(!t||!t.silent){var i=""===f.val()?{from:{},to:{}}:JSON.parse(f.val());i.hasOwnProperty(a)&&(r(this).find("> input").val(i[a].value),r(this).find("> select").val(i[a].unit))}}.bind(this))});s.data("initialized",!0)}})}(jQuery);